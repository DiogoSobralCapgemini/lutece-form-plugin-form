SET character_set_client = utf8;
ALTER TABLE form_form ADD COLUMN max_number_response INT default 0;

-- 
-- Update the xsl file of all export_format
-- 
UPDATE form_export_format SET id_export = 1, title = 'csv', description = 'exporter les réponses au format csv',extension = 'csv',xsl_file = 0x3C3F786D6C2076657273696F6E3D22312E302220656E636F64696E673D2249534F2D383835392D31223F3E0D0A3C78736C3A7374796C6573686565742076657273696F6E3D22312E302220786D6C6E733A78736C3D22687474703A2F2F7777772E77332E6F72672F313939392F58534C2F5472616E73666F726D223E0D0A3C78736C3A6F7574707574206D6574686F643D2274657874222F3E0D0A0D0A3C78736C3A74656D706C617465206D617463683D222F223E0D0A093C78736C3A6170706C792D74656D706C617465732073656C6563743D22666F726D2F666F726D2D656E74726965732F666F726D2D656E74727922202F3E0D0A093C78736C3A746578743E262331303B3C2F78736C3A746578743E0D0A093C78736C3A6170706C792D74656D706C617465732073656C6563743D22666F726D2F7375626D6974732F7375626D6974222F3E0D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D22666F726D2F666F726D2D656E74726965732F666F726D2D656E747279223E0D0A093C78736C3A746578743E223C2F78736C3A746578743E0D0A093C78736C3A76616C75652D6F662073656C6563743D22666F726D2D656E7472792D7469746C6522202F3E200D0A093C78736C3A746578743E223B3C2F78736C3A746578743E0D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D22666F726D2F7375626D6974732F7375626D6974223E0D0A093C78736C3A7661726961626C65206E616D653D227375626D69742D6964222073656C6563743D227375626D69742D696422202F3E0D0A093C78736C3A666F722D656163682073656C6563743D222E2E2F2E2E2F666F726D2D656E74726965732F666F726D2D656E747279223E0D0A09093C78736C3A7661726961626C65206E616D653D22666F726D2D656E7472792D6964222073656C6563743D22666F726D2D656E7472792D696422202F3E0D0A09093C78736C3A7661726961626C65206E616D653D22666F726D2D656E7472792D697465726174696F6E2D6E756D626572222073656C6563743D22666F726D2D656E7472792D697465726174696F6E2D6E756D62657222202F3E0D0A09093C78736C3A63686F6F73653E0D0A0909093C78736C3A7768656E20746573743D22737472696E67282E2E2F2E2E2F7375626D6974732F7375626D69745B7375626D69742D69643D247375626D69742D69645D2F7175657374696F6E732F7175657374696F6E5B7175657374696F6E2D69643D24666F726D2D656E7472792D69645D29223E0D0A090909093C78736C3A6170706C792D74656D706C617465732073656C6563743D222E2E2F2E2E2F7375626D6974732F7375626D69745B7375626D69742D69643D247375626D69742D69645D2F7175657374696F6E732F7175657374696F6E5B7175657374696F6E2D69643D24666F726D2D656E7472792D69645D5B697465726174696F6E2D6E756D6265723D24666F726D2D656E7472792D697465726174696F6E2D6E756D6265725D222F3E0D0A0909093C2F78736C3A7768656E3E0D0A0909093C78736C3A6F74686572776973653E0D0A090909093C78736C3A746578743E22223B3C2F78736C3A746578743E0D0A0909093C2F78736C3A6F74686572776973653E0D0A09093C2F78736C3A63686F6F73653E0D0A093C2F78736C3A666F722D656163683E0D0A093C78736C3A746578743E262331303B3C2F78736C3A746578743E0D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D227175657374696F6E732F7175657374696F6E223E0D0A093C78736C3A6170706C792D74656D706C617465732073656C6563743D22726573706F6E736573222F3E200D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D227175657374696F6E732F7175657374696F6E2F726573706F6E736573223E0D0A093C78736C3A746578743E223C2F78736C3A746578743E0D0A093C78736C3A6170706C792D74656D706C617465732073656C6563743D22726573706F6E7365222F3E0D0A093C78736C3A746578743E223B3C2F78736C3A746578743E0D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D227175657374696F6E732F7175657374696F6E2F726573706F6E7365732F726573706F6E7365223E0D0A093C78736C3A76616C75652D6F662073656C6563743D222E222F3E0D0A093C78736C3A696620746573743D22706F736974696F6E2829213D6C6173742829223E0D0A09093C78736C3A746578743E3B3C2F78736C3A746578743E0D0A093C2F78736C3A69663E0D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C2F78736C3A7374796C6573686565743E0D0A WHERE id_export = 1;
UPDATE form_export_format SET id_export = 2, title = 'xml', description = 'exporter les réponses au format xml',extension = 'xml',xsl_file = 0x3C3F786D6C2076657273696F6E3D22312E302220656E636F64696E673D225554462D38223F3E0D0A3C78736C3A7374796C6573686565742076657273696F6E3D22312E302220786D6C6E733A78736C3D22687474703A2F2F7777772E77332E6F72672F313939392F58534C2F5472616E73666F726D223E0D0A3C78736C3A6F7574707574206D6574686F643D22786D6C222076657273696F6E3D22312E302220656E636F64696E673D225554462D382220696E64656E743D22796573222063646174612D73656374696F6E2D656C656D656E74733D22726573706F6E7365207175657374696F6E2D7469746C6520666F726D2D7469746C65222F3E0D0A3C78736C3A74656D706C617465206D617463683D222F223E0D0A203C78736C3A6170706C792D74656D706C617465732073656C6563743D22666F726D222F3E200D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D22666F726D223E0D0A093C666F726D3E0D0A09093C666F726D2D7469746C653E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D22666F726D2D7469746C65222F3E0D0A09093C2F666F726D2D7469746C653E0D0A09093C7375626D6974733E0D0A0909093C78736C3A6170706C792D74656D706C617465732073656C6563743D227375626D6974732F7375626D6974222F3E200D0A09093C2F7375626D6974733E0D0A093C2F666F726D3E090D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D227375626D6974223E0D0A093C7375626D69743E0D0A09093C7375626D69742D69643E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D227375626D69742D6964222F3E0D0A09093C2F7375626D69742D69643E0D0A09093C7375626D69742D646174653E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D227375626D69742D64617465222F3E0D0A09093C2F7375626D69742D646174653E0D0A09093C7375626D69742D69703E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D227375626D69742D6970222F3E0D0A09093C2F7375626D69742D69703E0D0A09093C7175657374696F6E733E0D0A0909093C78736C3A6170706C792D74656D706C617465732073656C6563743D227175657374696F6E732F7175657374696F6E222F3E200D0A09093C2F7175657374696F6E733E0D0A093C2F7375626D69743E0D0A3C2F78736C3A74656D706C6174653E0D0A3C78736C3A74656D706C617465206D617463683D227175657374696F6E223E0D0A093C7175657374696F6E3E0D0A09093C7175657374696F6E2D69643E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D227175657374696F6E2D6964222F3E0D0A09093C2F7175657374696F6E2D69643E0D0A09093C697465726174696F6E2D6E756D6265723E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D22697465726174696F6E2D6E756D626572222F3E0D0A09093C2F697465726174696F6E2D6E756D6265723E0D0A09093C7175657374696F6E2D7469746C653E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D227175657374696F6E2D7469746C65222F3E0D0A09093C2F7175657374696F6E2D7469746C653E0D0A09093C726573706F6E7365733E0D0A0909093C78736C3A6170706C792D74656D706C617465732073656C6563743D22726573706F6E7365732F726573706F6E7365222F3E200D0A09093C2F726573706F6E7365733E0D0A093C2F7175657374696F6E3E0D0A3C2F78736C3A74656D706C6174653E0D0A3C78736C3A74656D706C617465206D617463683D22726573706F6E7365223E0D0A093C726573706F6E73653E0D0A09093C78736C3A76616C75652D6F662073656C6563743D222E222F3E0D0A093C2F726573706F6E73653E0D0A3C2F78736C3A74656D706C6174653E0D0A3C2F78736C3A7374796C6573686565743E WHERE id_export = 2;
UPDATE form_export_format SET id_export = 3, title = 'csv_daemon', description = 'exporter les réponses au format csv pour le daemon d''export',extension = 'csv',xsl_file = 0x3C3F786D6C2076657273696F6E3D22312E302220656E636F64696E673D225554462D38223F3E0D0A3C78736C3A7374796C6573686565742076657273696F6E3D22312E302220786D6C6E733A78736C3D22687474703A2F2F7777772E77332E6F72672F313939392F58534C2F5472616E73666F726D223E0D0A3C78736C3A6F7574707574206D6574686F643D2274657874222F3E0D0A0D0A3C78736C3A74656D706C617465206D617463683D222F223E0D0A093C78736C3A6170706C792D74656D706C617465732073656C6563743D22666F726D2F666F726D2D656E74726965732F666F726D2D656E74727922202F3E0D0A093C78736C3A746578743E262331303B3C2F78736C3A746578743E0D0A093C78736C3A6170706C792D74656D706C617465732073656C6563743D22666F726D2F7375626D6974732F7375626D6974222F3E0D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D22666F726D2F666F726D2D656E74726965732F666F726D2D656E747279223E0D0A093C78736C3A746578743E223C2F78736C3A746578743E0D0A093C78736C3A76616C75652D6F662073656C6563743D22666F726D2D656E7472792D7469746C6522202F3E200D0A093C78736C3A746578743E223B3C2F78736C3A746578743E0D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D22666F726D2F7375626D6974732F7375626D6974223E0D0A093C78736C3A7661726961626C65206E616D653D227375626D69742D6964222073656C6563743D227375626D69742D696422202F3E0D0A093C78736C3A666F722D656163682073656C6563743D222E2E2F2E2E2F666F726D2D656E74726965732F666F726D2D656E747279223E0D0A09093C78736C3A7661726961626C65206E616D653D22666F726D2D656E7472792D6964222073656C6563743D22666F726D2D656E7472792D696422202F3E0D0A09093C78736C3A7661726961626C65206E616D653D22666F726D2D656E7472792D697465726174696F6E2D6E756D626572222073656C6563743D22666F726D2D656E7472792D697465726174696F6E2D6E756D62657222202F3E0D0A09093C78736C3A63686F6F73653E0D0A0909093C78736C3A7768656E20746573743D22737472696E67282E2E2F2E2E2F7375626D6974732F7375626D69745B7375626D69742D69643D247375626D69742D69645D2F7175657374696F6E732F7175657374696F6E5B7175657374696F6E2D69643D24666F726D2D656E7472792D69645D29223E0D0A090909093C78736C3A6170706C792D74656D706C617465732073656C6563743D222E2E2F2E2E2F7375626D6974732F7375626D69745B7375626D69742D69643D247375626D69742D69645D2F7175657374696F6E732F7175657374696F6E5B7175657374696F6E2D69643D24666F726D2D656E7472792D69645D5B697465726174696F6E2D6E756D6265723D24666F726D2D656E7472792D697465726174696F6E2D6E756D6265725D222F3E0D0A0909093C2F78736C3A7768656E3E0D0A0909093C78736C3A6F74686572776973653E0D0A090909093C78736C3A746578743E22223B3C2F78736C3A746578743E0D0A0909093C2F78736C3A6F74686572776973653E0D0A09093C2F78736C3A63686F6F73653E0D0A093C2F78736C3A666F722D656163683E0D0A093C78736C3A746578743E262331303B3C2F78736C3A746578743E0D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D227175657374696F6E732F7175657374696F6E223E0D0A093C78736C3A6170706C792D74656D706C617465732073656C6563743D22726573706F6E736573222F3E200D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D227175657374696F6E732F7175657374696F6E2F726573706F6E736573223E0D0A093C78736C3A746578743E223C2F78736C3A746578743E0D0A093C78736C3A6170706C792D74656D706C617465732073656C6563743D22726573706F6E7365222F3E0D0A093C78736C3A746578743E223B3C2F78736C3A746578743E0D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D227175657374696F6E732F7175657374696F6E2F726573706F6E7365732F726573706F6E7365223E0D0A093C78736C3A76616C75652D6F662073656C6563743D222E222F3E0D0A093C78736C3A696620746573743D22706F736974696F6E2829213D6C6173742829223E0D0A09093C78736C3A746578743E3B3C2F78736C3A746578743E0D0A093C2F78736C3A69663E0D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C2F78736C3A7374796C6573686565743E0D0A WHERE id_export = 3;
UPDATE form_export_format SET id_export = 4, title = 'xml_daemon', description = 'exporter les réponses au format XML pour le daemon d''export',extension = 'xml',xsl_file = 0x3C3F786D6C2076657273696F6E3D22312E302220656E636F64696E673D225554462D38223F3E0D0A3C78736C3A7374796C6573686565742076657273696F6E3D22312E302220786D6C6E733A78736C3D22687474703A2F2F7777772E77332E6F72672F313939392F58534C2F5472616E73666F726D223E0D0A3C78736C3A6F7574707574206D6574686F643D22786D6C222076657273696F6E3D22312E302220656E636F64696E673D225554462D382220696E64656E743D22796573222063646174612D73656374696F6E2D656C656D656E74733D22726573706F6E7365207175657374696F6E2D7469746C6520666F726D2D7469746C65222F3E0D0A3C78736C3A74656D706C617465206D617463683D222F223E0D0A203C78736C3A6170706C792D74656D706C617465732073656C6563743D22666F726D222F3E200D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D22666F726D223E0D0A093C666F726D3E0D0A09093C666F726D2D7469746C653E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D22666F726D2D7469746C65222F3E0D0A09093C2F666F726D2D7469746C653E0D0A09093C7375626D6974733E0D0A0909093C78736C3A6170706C792D74656D706C617465732073656C6563743D227375626D6974732F7375626D6974222F3E200D0A09093C2F7375626D6974733E0D0A093C2F666F726D3E090D0A3C2F78736C3A74656D706C6174653E0D0A0D0A3C78736C3A74656D706C617465206D617463683D227375626D6974223E0D0A093C7375626D69743E0D0A09093C7375626D69742D69643E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D227375626D69742D6964222F3E0D0A09093C2F7375626D69742D69643E0D0A09093C7375626D69742D646174653E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D227375626D69742D64617465222F3E0D0A09093C2F7375626D69742D646174653E0D0A09093C7375626D69742D69703E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D227375626D69742D6970222F3E0D0A09093C2F7375626D69742D69703E0D0A09093C7175657374696F6E733E0D0A0909093C78736C3A6170706C792D74656D706C617465732073656C6563743D227175657374696F6E732F7175657374696F6E222F3E200D0A09093C2F7175657374696F6E733E0D0A093C2F7375626D69743E0D0A3C2F78736C3A74656D706C6174653E0D0A3C78736C3A74656D706C617465206D617463683D227175657374696F6E223E0D0A093C7175657374696F6E3E0D0A09093C7175657374696F6E2D69643E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D227175657374696F6E2D6964222F3E0D0A09093C2F7175657374696F6E2D69643E0D0A09093C697465726174696F6E2D6E756D6265723E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D22697465726174696F6E2D6E756D626572222F3E0D0A09093C2F697465726174696F6E2D6E756D6265723E0D0A09093C7175657374696F6E2D7469746C653E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D227175657374696F6E2D7469746C65222F3E0D0A09093C2F7175657374696F6E2D7469746C653E0D0A09093C726573706F6E7365733E0D0A0909093C78736C3A6170706C792D74656D706C617465732073656C6563743D22726573706F6E7365732F726573706F6E7365222F3E200D0A09093C2F726573706F6E7365733E0D0A093C2F7175657374696F6E3E0D0A3C2F78736C3A74656D706C6174653E0D0A3C78736C3A74656D706C617465206D617463683D22726573706F6E7365223E0D0A093C726573706F6E73653E0D0A09093C78736C3A76616C75652D6F662073656C6563743D222E222F3E0D0A093C2F726573706F6E73653E0D0A3C2F78736C3A74656D706C6174653E0D0A3C2F78736C3A7374796C6573686565743E WHERE id_export = 4;
