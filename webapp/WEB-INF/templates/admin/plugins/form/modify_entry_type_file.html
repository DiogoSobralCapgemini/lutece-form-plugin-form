<#include "/admin/util/editor/editor.html" />
<#include "/admin/plugins/form/commons.html" />
<div class="row-fluid">
<div class="span12">
<fieldset>
<legend>#i18n{form.modifyEntry.titleQuestion} : '${entry.form.title}'</legend>
	<form class="form-horizontal" action="jsp/admin/plugins/form/DoModifyEntry.jsp#list" method="post" name="" id=""  >
    <input name="id_entry" value="${entry.idEntry}" type="hidden" />
	<div class="control-group">
		<label class="control-label" for="title">#i18n{form.createEntry.labelTitle} *  : </label>
			<div class="controls">
				<input type="text" name="title" id="title" class="span3" value="${entry.title}"  maxlength="255"/>
				<span class="help-text">#i18n{form.createEntry.labelTitleComment}</span>
		</div>
	</div>
    <div class="control-group">
	<label class="control-label" for="help_message">#i18n{form.createEntry.labelHelpMessage} : </label>
		<textarea  name="help_message" id="help_message" rows="20" class="span4">${entry.helpMessage}</textarea>
		<span class="help-text">#i18n{form.createEntry.labelHelpMessageComment}</span>
	</div>
    <div class="control-group">
		<label class="control-label" for="comment"> #i18n{form.createEntry.labelComment} : </label>
		 <textarea  name="comment" class="span4" rows="2">${entry.comment}</textarea>
    </div>
    <div class="control-group">
	<label class="control-label" for="">#i18n{form.createEntry.labelType} : ${entry.entryType.title}</label>
        <div class="controls">
			<label for="mandatory">#i18n{form.createEntry.labelMandatory} : </label>
				<input name="mandatory" value="1" type="checkbox" <#if entry.mandatory>checked="checked"</#if> />
		</div>
	</div>
   	<div class="control-group">
	<label class="control-label" for="width">#i18n{form.createEntry.labelWidth} * : </label>
		<#list entry.fields as field>
			<#if !field.title??>
	   		<div class="controls">
				<input type="text" name="width" id="width" size="5" value="${field.width}" />
			</div>
	   		<#assign id_field=field.idField>
	    		<#break>
	    	</#if> 
    	</#list>
	</div>
	<div class="control-group">
	<label class="control-label" for="file_max_size">#i18n{form.createEntry.labelFileMaxSize} * : </label>
		<div class="controls">
			<input type="text" name="file_max_size" id="file_max_size" size="10" value="${getFileMaxSize(entry)}" />
		</div>
	</div>
	<div class="control-group">
	<label class="control-label" for="max_files">#i18n{form.createEntry.labelMaxFiles} * :</label>
		<div class="controls">
			<input name="max_files" type="text" size="2" value="${getMaxFiles(entry)}" maxlength="2" />
		</div>
	</div>
	<div class="control-group">
	<label class="control-label" for="export_binary">#i18n{form.createEntry.labelExportBinary} : </label>
		<div class="controls">
			<input name="export_binary" value="1" type="checkbox" <#if exportBinary( entry )>checked="checked"</#if> />
			<span class="label label-warning">#i18n{form.createEntry.labelExportBinaryComment}</span>
		</div>
	</div>
	<div class="control-group">
	<label class="control-label" for="css_class">#i18n{form.createEntry.labelCSSClass} : </label>
		<div class="controls">
			<input type="text" name="css_class" value="${entry.CSSClass!}" maxlength="255" class="span3" />
			<span class="help-text">#i18n{form.createEntry.labelCSSClassComment}</span>
		</div>
	</div>
	<div class="control-group">
		<button class="btn btn-primary" type="submit" >#i18n{form.modifyEntry.buttonSave}</button>
		<button class="btn btn-primary" type="submit" >#i18n{form.modifyEntry.buttonApply}</button>
		<button class="btn btn-primary" type="submit" >#i18n{form.modifyEntry.buttonCancel}</button>
	</div>
	</form>
	</fieldset>
	<#if regular_expression_list?exists>
	<fieldset>
	<legend>#i18n{form.createEntry.manageRegularExpression.title}</legend>
	<div class="well">
	<form class="form-horizontal"  method="post"  action="jsp/admin/plugins/form/DoInsertVerification.jsp#list">
	<input name="id_field" value="${id_field}" type="hidden" />
	<div class="control-group">
		<label class="control-label" for="id_expression">#i18n{form.createEntry.manageRegularExpression.labelInsert} :</label>
		<div class="controls">
			<@combo name="id_expression"  items=regular_expression_list default_value=-1 />&nbsp;<button class="btn btn-primary" type="submit" ><i class="icon-ok icon-white"></i>#i18n{form.createEntry.manageRegularExpression.buttonInsert}</button>
			<p class="help-block">#i18n{form.createEntry.manageRegularExpression.labelInsertComment}</p>
		</div>
	</div>
	</form>
	</fieldset>
	<@paginationAdmin paginator=paginator combo=1/>
	<a name="list" id="list"></a>
	<table class="table table-striped">
          <tr> 
            <th > #i18n{form.createEntry.manageRegularExpression.rowTitle}
            </th>
            <th > #i18n{form.createEntry.manageRegularExpression.rowInformationMessage}
            </th>
            <th> #i18n{form.createEntry.manageRegularExpression.rowValidExemple}
            </th>
			<th> #i18n{form.createEntry.manageField.rowActions}
            </th>
          </tr>
           <#list list as expression>
          	<tr>
            	<td>${expression.title}</td>
            	<td>${expression.informationMessage}</td>
	            <td>${expression.validExemple}</td>
	            <td>
					<a class="btn btn-danger btn-small" href="jsp/admin/plugins/form/DoRemoveVerification.jsp?id_expression=${expression.idExpression}&id_field=${id_field}#list"  title="#i18n{form.createEntry.manageField.titleDelete}" >
					<i class="icon-trash icon-white"></i>
					</a>
				</td>
	          </tr>
			</#list> 
        </table>
        <@paginationAdmin paginator=paginator/>
    </div>
	</#if>
	</div>
</div>
 <@initEditor />